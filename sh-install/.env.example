# N8N Environment Configuration Example
# Copy this file to /home/n8n/.n8n-env and edit as needed
# After editing, restart N8N: sudo systemctl restart n8n

################################################################################
# Basic Configuration
################################################################################

# Host and Port
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=http

# Webhook URL - Important for external webhooks
# Change this to your domain or public IP
WEBHOOK_URL=http://YOUR_SERVER_IP:5678/

################################################################################
# Paths and Directories
################################################################################

# Data directory
N8N_USER_FOLDER=/home/n8n/.n8n

# Log configuration
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console,file
N8N_LOG_FILE_LOCATION=/home/n8n/.n8n/logs/

################################################################################
# Execution Settings
################################################################################

# Save execution data
EXECUTIONS_DATA_SAVE_ON_ERROR=all
EXECUTIONS_DATA_SAVE_ON_SUCCESS=all
EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS=true

# Execution mode
EXECUTIONS_PROCESS=main

# Execution timeout (in seconds)
EXECUTIONS_TIMEOUT=3600
EXECUTIONS_TIMEOUT_MAX=7200

################################################################################
# Performance Settings
################################################################################

# Maximum payload size in MB
N8N_PAYLOAD_SIZE_MAX=16

# Enable metrics endpoint
N8N_METRICS=false

# Number of workers (for main process mode)
# N8N_CONCURRENCY_PRODUCTION=10

################################################################################
# Timezone
################################################################################

# Set your timezone
GENERIC_TIMEZONE=Asia/Bangkok
# GENERIC_TIMEZONE=UTC
# GENERIC_TIMEZONE=America/New_York
# GENERIC_TIMEZONE=Europe/London
# GENERIC_TIMEZONE=Asia/Singapore
# GENERIC_TIMEZONE=Asia/Tokyo

################################################################################
# Security - Basic Authentication
################################################################################

# Enable/Disable basic auth
N8N_BASIC_AUTH_ACTIVE=false

# Basic auth credentials (enable N8N_BASIC_AUTH_ACTIVE first)
# N8N_BASIC_AUTH_USER=admin
# N8N_BASIC_AUTH_PASSWORD=change_me_in_production

################################################################################
# Security - Advanced
################################################################################

# JWT settings (for API access)
# N8N_JWT_AUTH_ACTIVE=true
# N8N_JWT_AUTH_HEADER=Authorization
# N8N_JWKS_URI=https://your-auth-server.com/.well-known/jwks.json

# Encryption key for credentials
# N8N_ENCRYPTION_KEY=your_random_encryption_key_here

################################################################################
# Database Configuration
################################################################################

# Default: SQLite
DB_TYPE=sqlite
DB_SQLITE_VACUUM_ON_STARTUP=true

# PostgreSQL Configuration (uncomment to use)
# DB_TYPE=postgresdb
# DB_POSTGRESDB_HOST=localhost
# DB_POSTGRESDB_PORT=5432
# DB_POSTGRESDB_DATABASE=n8n
# DB_POSTGRESDB_USER=n8n
# DB_POSTGRESDB_PASSWORD=your_password_here
# DB_POSTGRESDB_SCHEMA=public
# DB_POSTGRESDB_SSL_ENABLED=false

# MySQL Configuration (uncomment to use)
# DB_TYPE=mysqldb
# DB_MYSQLDB_HOST=localhost
# DB_MYSQLDB_PORT=3306
# DB_MYSQLDB_DATABASE=n8n
# DB_MYSQLDB_USER=n8n
# DB_MYSQLDB_PASSWORD=your_password_here

################################################################################
# Email (SMTP) Configuration
################################################################################

# N8N_EMAIL_MODE=smtp
# N8N_SMTP_HOST=smtp.gmail.com
# N8N_SMTP_PORT=587
# N8N_SMTP_USER=your-email@gmail.com
# N8N_SMTP_PASS=your-app-password
# N8N_SMTP_SENDER=your-email@gmail.com
# N8N_SMTP_SSL=true

################################################################################
# External Secrets
################################################################################

# Use external secrets from files or environment
# N8N_EXTERNAL_SECRETS_PROVIDERS=file,vault
# N8N_EXTERNAL_SECRETS_FILE=/path/to/secrets.json

################################################################################
# Queue Mode (Advanced - requires Redis)
################################################################################

# Enable queue mode for better scalability
# EXECUTIONS_PROCESS=queue

# Redis configuration for queue mode
# QUEUE_BULL_REDIS_HOST=localhost
# QUEUE_BULL_REDIS_PORT=6379
# QUEUE_BULL_REDIS_DB=0
# QUEUE_BULL_REDIS_PASSWORD=your_redis_password

################################################################################
# Custom Nodes
################################################################################

# Directory for custom nodes
# N8N_CUSTOM_EXTENSIONS=/home/n8n/.n8n/custom

################################################################################
# Endpoints Configuration
################################################################################

# Disable/Enable certain endpoints
# N8N_ENDPOINT_METRICS=false
# N8N_ENDPOINT_HEALTHCHECK=true

# Metrics configuration
# N8N_METRICS_PREFIX=n8n_

################################################################################
# Version Notifications
################################################################################

# Show version notification banner
# N8N_VERSION_NOTIFICATIONS_ENABLED=true

################################################################################
# Community Nodes
################################################################################

# Enable installation of community nodes
# N8N_COMMUNITY_PACKAGES_ENABLED=true

################################################################################
# Templates
################################################################################

# Enable/disable templates
# N8N_TEMPLATES_ENABLED=true
# N8N_TEMPLATES_HOST=https://api.n8n.io/api/

################################################################################
# Personalization
################################################################################

# Personalization survey
# N8N_PERSONALIZATION_ENABLED=true

################################################################################
# Diagnostics
################################################################################

# Share usage data with N8N
# N8N_DIAGNOSTICS_ENABLED=true

################################################################################
# Default User Settings
################################################################################

# Skip owner setup (for automated deployments)
# N8N_OWNER_SETUP_SKIP=true

################################################################################
# Nodes Settings
################################################################################

# Include/Exclude specific nodes
# NODES_INCLUDE=[]
# NODES_EXCLUDE=[]

################################################################################
# Credentials Override
################################################################################

# Allow credentials to be overridden
# CREDENTIALS_OVERWRITE_DATA={"bitly":{"accessToken":"token"}}

################################################################################
# Push (WebSocket) Settings
################################################################################

# Push backend for real-time updates
# N8N_PUSH_BACKEND=websocket

################################################################################
# SSL/TLS Configuration
################################################################################

# If using HTTPS
# N8N_PROTOCOL=https
# N8N_SSL_KEY=/path/to/privkey.pem
# N8N_SSL_CERT=/path/to/fullchain.pem

################################################################################
# Notes
################################################################################

# 1. After changing any settings, restart N8N:
#    sudo systemctl restart n8n

# 2. To verify settings are loaded:
#    sudo journalctl -u n8n -n 100

# 3. For security, always change default passwords

# 4. For production use:
#    - Enable N8N_BASIC_AUTH_ACTIVE
#    - Use strong N8N_ENCRYPTION_KEY
#    - Set up HTTPS (N8N_PROTOCOL=https)
#    - Consider using PostgreSQL instead of SQLite
#    - Enable regular backups

# 5. For high-traffic deployments:
#    - Use queue mode with Redis
#    - Use PostgreSQL for better performance
#    - Increase EXECUTIONS_TIMEOUT if needed
